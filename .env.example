# ===========================================
# InvoicePro Environment Variables
# Copy this file to .env.local and fill in your values
# ===========================================

# ===========================================
# SUPABASE (Required for backend)
# ===========================================
# Frontend (exposed to browser via Vite)
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key

# Backend/Server only (for API routes)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
SUPABASE_JWT_SECRET=your-jwt-secret

# ===========================================
# CLOUDINARY (For media/logo uploads)
# ===========================================
# Frontend
VITE_CLOUDINARY_CLOUD_NAME=your-cloud-name
VITE_CLOUDINARY_UPLOAD_PRESET=invoicepro_unsigned

# Backend/Server only
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# ===========================================
# M-PESA (Safaricom Daraja API)
# ===========================================
# Environment: 'sandbox' or 'production'
MPESA_ENV=sandbox

# Base URL
# Sandbox: https://sandbox.safaricom.co.ke
# Production: https://api.safaricom.co.ke
MPESA_BASE_URL=https://sandbox.safaricom.co.ke

# OAuth Credentials (from Daraja portal)
MPESA_CONSUMER_KEY=your-consumer-key
MPESA_CONSUMER_SECRET=your-consumer-secret

# Lipa Na M-Pesa Online (STK Push)
# Test shortcode: 174379
MPESA_SHORTCODE=174379
MPESA_PASSKEY=your-lipa-na-mpesa-online-passkey

# Callback URLs (must be publicly accessible)
MPESA_CALLBACK_URL=https://invoicepro.dovepeakdigital.com/api/payments/mpesa/callback
MPESA_TIMEOUT_URL=https://invoicepro.dovepeakdigital.com/api/payments/mpesa/timeout

# Transaction details
MPESA_ACCOUNT_REFERENCE=InvoicePro
MPESA_TRANSACTION_DESC=InvoicePro Subscription Payment

# ===========================================
# APPLICATION
# ===========================================
# App URLs
APP_BACKEND_URL=https://invoicepro.dovepeakdigital.com
APP_FRONTEND_URL=https://invoicepro.dovepeakdigital.com

# JWT Secret (for legacy auth if needed)
JWT_SECRET=your-jwt-secret-for-legacy-auth

# ===========================================
# OPTIONAL: B2C/B2B (for payouts)
# ===========================================
# MPESA_INITIATOR_NAME=your-initiator-name
# MPESA_SECURITY_CREDENTIAL=your-base64-security-credential
# MPESA_RESULT_URL=https://your-domain.com/api/mpesa/result
# MPESA_QUEUE_TIMEOUT_URL=https://your-domain.com/api/mpesa/queue-timeout
